name: collector-js-npm
type: collector

cases:

- name: collect package.json
  dockerfile: Dockerfile
  repo_contents: test/collector/package_json/repo
  output_dependencies_json: test/collector/package_json/dependencies.json
  user_config:
    path: /

- name: package.json production
  dockerfile: Dockerfile
  repo_contents: test/collector/package_json/repo
  output_dependencies_json: test/collector/package_json/dependencies_production.json
  user_config:
    path: /
    settings:
      node_env: production

- name: package-lock.json
  dockerfile: Dockerfile
  repo_contents: test/collector/package_lock/repo
  output_dependencies_json: test/collector/package_lock/dependencies.json
  user_config:
    path: /

- name: package-lock.json production
  dockerfile: Dockerfile
  repo_contents: test/collector/package_lock/repo
  output_dependencies_json: test/collector/package_lock/dependencies_production.json
  user_config:
    path: /
    settings:
      node_env: production

- name: yarn.lock
  dockerfile: Dockerfile
  repo_contents: test/collector/yarn/repo
  output_dependencies_json: test/collector/yarn/dependencies.json
  user_config:
    path: /

- name: yarn.lock production
  dockerfile: Dockerfile
  repo_contents: test/collector/yarn/repo
  output_dependencies_json: test/collector/yarn/dependencies_production.json
  user_config:
    path: /
    settings:
      node_env: production

- name: yarn.lock installed version when multiple versions of dependency installed
  dockerfile: Dockerfile
  repo_contents: test/collector/yarn/multiple_installed_resolution
  output_dependencies_json: test/collector/yarn/multiple_installed_dependencies.json
  user_config:
    path: /

- name: package.json with a github url for version
  dockerfile: Dockerfile
  repo_contents: test/collector/github_dependency/repo
  output_dependencies_json: test/collector/github_dependency/dependencies.json
  user_config:
    path: /

- name: dist-tags - specific tag
  dockerfile: Dockerfile
  repo_contents: test/collector/dist_tags/badger
  output_dependencies_json: test/collector/dist_tags/badger_dependencies.json
  user_config:
    path: /
    settings:
      dist_tags:
        semantic-release: badger

- name: dist-tags - latest (default)
  dockerfile: Dockerfile
  repo_contents: test/collector/dist_tags/latest
  output_dependencies_json: test/collector/dist_tags/latest_dependencies.json
  user_config:
    path: /
